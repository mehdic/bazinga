{
  "agents": {
    "developer": {
      "model": "haiku",
      "rationale": "Cost-efficient for straightforward implementation tasks"
    },
    "senior_software_engineer": {
      "model": "sonnet",
      "rationale": "Escalation from developer - handles complex failures"
    },
    "qa_expert": {
      "model": "sonnet",
      "rationale": "Balanced capability for test generation and validation"
    },
    "tech_lead": {
      "model": "opus",
      "rationale": "Always Opus - critical architectural decisions and security review"
    },
    "project_manager": {
      "model": "opus",
      "rationale": "Always Opus - strategic planning and final quality gate"
    },
    "investigator": {
      "model": "opus",
      "rationale": "Complex debugging and root cause analysis"
    },
    "requirements_engineer": {
      "model": "sonnet",
      "rationale": "Research and evaluation tasks requiring deep reasoning"
    },
    "validator": {
      "model": "sonnet",
      "rationale": "Independent BAZINGA verification - spawned only by PM"
    },
    "orchestrator": {
      "model": "sonnet",
      "rationale": "Coordination and routing - inline execution via slash command"
    }
  },
  "escalation_rules": {
    "developer_to_senior_software_engineer": {
      "triggers": [
        "revision_count >= 1",
        "challenge_level_3_fail",
        "challenge_level_4_fail"
      ],
      "description": "Escalate after first failure or Level 3-4 challenge fails"
    },
    "senior_software_engineer_to_tech_lead": {
      "triggers": [
        "senior_software_engineer_revision >= 2",
        "architectural_concern"
      ],
      "description": "Escalate after Senior Software Engineer struggles twice"
    }
  },
  "task_type_routing": {
    "research": {
      "agent": "requirements_engineer",
      "model": "sonnet",
      "markers": ["[R]", "research", "evaluate", "select", "compare", "analyze"],
      "description": "External research, vendor comparison, technology decisions"
    },
    "implementation": {
      "agent": "developer",
      "model": "from_complexity_score",
      "description": "Default for code implementation (uses complexity scoring)"
    }
  },
  "_metadata": {
    "version": "1.1.0",
    "description": "Model selection and escalation rules for BAZINGA agents",
    "last_updated": "2025-12-02",
    "notes": [
      "Tech Lead and PM are ALWAYS on Opus - non-negotiable",
      "Developer starts on Haiku for cost efficiency",
      "Senior Software Engineer on Sonnet handles escalated complexity",
      "Escalation triggers after 1 failure (not 2)"
    ]
  }
}
